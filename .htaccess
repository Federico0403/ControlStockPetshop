<IfModule mod_rewrite.c>
    RewriteEngine On

    # Asegúrate de que las peticiones de archivos existentes no se reescriban
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d

    # No reescribir archivos de CSS, JS, imágenes, etc.
    RewriteRule \.(?:css|js|jpe?g|gif|png|svg|woff|woff2|ttf|eot)$ - [L]

    # Reescribe peticiones a la API
    RewriteRule ^api/(.*)$ router.php?resource=$1 [QSA,L]

    # Si se usa autorización HTTP, mantener el encabezado
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
</IfModule>
